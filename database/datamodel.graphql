type Group {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  settings: Settings! @relation(name: "SettingsRelation", onDelete: CASCADE)
  users: [User] @relation(name: "GroupMembership")
  posts: [Post] @relation(name: "GroupPosts", onDelete: CASCADE)
  admin: User! @relation(name: "AdminRegistration")
}

type Settings {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  colorScheme: String!
  welcomeText: String!
  description: String
  group: Group! @relation(name: "SettingsRelation")
}

type User {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  metaData: MetaData
  authData: AuthObject!
    @relation(name: "AuthenticationRelation", onDelete: CASCADE)
  posts: [Post]
  comments: [Comment]
  groups: [Group] @relation(name: "GroupMembership")
}

type MetaData {
  name: String!
  profilePicture: String
  age: Int
  generation: Int
}

type AuthObject {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  contactNumber: String! @unique
  email: String @unique
  securityQuestions: String!
  securityAnswers: String!
  user: User! @relation(name: "AuthenticationRelation")
  token: String
}

type Post {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  content: Content!
  user: User!
  tags: [Tag]
  group: Group! @relation(name: "GroupPosts")
  comments: [Comment] @relation(name: "CommentRelation", onDelete: CASCADE)
}

type Comment {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  content: Content!
  user: User!
  post: Post! @relation(name: "CommentRelation")
}

type Tag {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  users: [User]!
}

type Content {
  id: ID! @unique
  createdAt: DateTime!
  updatedAt: DateTime!
  contentType: CONTENT_TYPE!
  description: String!
  mediaUrl: String
  published: Boolean! @default(value: "true")
}

enum CONTENT_TYPE {
  NO_MEDIA
  IMAGE
  GIF
  MOVIE
}
